{"version":3,"sources":["redux/reducers/goods.js","redux/reducers/cart.js","redux/reducers/filter.js","redux/reducers/index.js","redux/store.js","redux/actions/goods.js","redux/actions/cart.js","components/Cart.jsx","containers/Cart-container.js","components/Menu.jsx","containers/Menu-container.js","redux/actions/filter.js","components/Filter.jsx","containers/Filter-container.js","components/Card.jsx","containers/Card-container.js","components/App.jsx","containers/App-container.js","index.js"],"names":["initialState","isLoading","items","goods","state","action","type","payload","cart","filter","obj","id","searchQuery","filterBy","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","setGoods","addGoodsToCart","removeGoodsFromCart","CartComponent","title","imageUrl","addedCount","List","selection","divided","verticalAlign","Item","Content","floated","Button","onClick","bind","color","Image","avatar","src","connect","reduce","count","item","dispatch","bindActionCreators","cartAction","HeaderMenu","totalPrice","counter","Menu","stackable","alt","position","Popup","trigger","content","map","key","on","hideOnScroll","total","price","length","uniqBy","setFilter","setSearchQuery","value","Filter","secondary","active","Input","icon","onChange","event","target","placeholder","filterAction","GoodsCard","authorName","author","rating","Card","wrapped","ui","Header","Meta","className","Description","extra","App","this","props","axios","get","then","data","Container","Group","itemsPerRow","doubling","React","Component","findedGoods","orderBy","sortBy","toLowerCase","indexOf","filterGoods","goodsAction","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0cec4581.chunk.js","sourcesContent":["const initialState = {\r\n    isLoading: false,\r\n    items: null,\r\n};\r\n\r\nconst goods = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_GOODS\":\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n                isLoading: true,\r\n            };\r\n        case \"SET_IS_LOADED\":\r\n            return {\r\n                ...state,\r\n                isLoading: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default goods;\r\n","const initialState = {\r\n    items: []\r\n};\r\n\r\nconst cart = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"ADD_GOODS_TO_CART\":\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items, \r\n                    action.payload\r\n                ],\r\n            };\r\n        case \"REMOVE_GOODS_FROM_CART\":\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(obj => obj.id !== action.payload),\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cart;\r\n","const initialState = {\r\n    searchQuery: \"\",\r\n    filterBy: \"all\",\r\n};\r\n\r\nconst filter = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_SEARCH_QUERY\":\r\n            return {\r\n                ...state,\r\n                searchQuery: action.payload,\r\n            };\r\n        case \"SET_FILTER\":\r\n            return {\r\n                ...state,\r\n                filterBy: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default filter;\r\n","import { combineReducers } from \"redux\";\n\nimport goods from \"./goods\";\nimport cart from \"./cart\";\nimport filter from \"./filter\";\n\nexport default combineReducers({\n    goods,\n    cart,\n    filter,\n});\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst store = () => {\r\n    const store = createStore(rootReducer, applyMiddleware(thunk));\r\n    return store;\r\n};\r\n\r\nexport default store;","export const setGoods = goods => ({\r\n    type: \"SET_GOODS\",\r\n    payload: goods\r\n});","export const addGoodsToCart = obj => ({\r\n    type: \"ADD_GOODS_TO_CART\",\r\n    payload: obj,\r\n});\r\n\r\nexport const removeGoodsFromCart = id => ({\r\n    type: \"REMOVE_GOODS_FROM_CART\",\r\n    payload: id,\r\n});\r\n","import React from \"react\";\r\nimport { List, Button, Image } from \"semantic-ui-react\";\r\n\r\nconst CartComponent = ({ title, id, imageUrl, addedCount, removeGoodsFromCart }) => (\r\n    <List selection divided verticalAlign=\"middle\">\r\n        <List.Item>\r\n            <List.Content floated=\"right\">\r\n                <Button onClick={removeGoodsFromCart.bind(this, id)} color=\"red\">\r\n                    Удалить\r\n                </Button>\r\n            </List.Content>\r\n            <Image avatar src={imageUrl} />\r\n            <List.Content>{title} ({addedCount})</List.Content>\r\n        </List.Item>\r\n    </List>\r\n);\r\n\r\nexport default CartComponent;\r\n","import { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport * as cartAction from \"../redux/actions/cart\";\r\nimport CartComponent from \"../components/Cart\";\r\n\r\nconst mapStateToProps = ({ cart }, { id }) => ({\r\n    addedCount: cart.items.reduce(\r\n        (count, item) => count + (item.id === id ? 1 : 0),\r\n        0,\r\n    ),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartAction, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartComponent);\r\n","import React from \"react\";\r\nimport { Menu, Popup } from \"semantic-ui-react\";\r\n\r\nimport CartComponent from \"../containers/Cart-container\";\r\n\r\nconst HeaderMenu = ({ totalPrice, counter, items }) => (\r\n    <Menu stackable>\r\n        <Menu.Item>\r\n            <img src=\"images/logo_book.svg\" alt=\"Logo\" />&nbsp;\r\n            <b>Магазин книг</b>\r\n        </Menu.Item>\r\n        <Menu.Menu position=\"right\">\r\n            <Menu.Item>\r\n                Итого:&nbsp;<b>{totalPrice}</b>&nbsp;руб.\r\n            </Menu.Item>\r\n            <Popup\r\n                trigger={\r\n                    <Menu.Item>\r\n                        Корзина&nbsp;<b>{counter > 0 && `(${counter})`}</b>\r\n                    </Menu.Item>\r\n                }\r\n                content={items.map(obj => <CartComponent {...obj} key={obj.id} />)}\r\n                on=\"click\"\r\n                hideOnScroll\r\n            />\r\n        </Menu.Menu>\r\n    </Menu>\r\n);\r\n\r\nexport default HeaderMenu;\r\n","import { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport uniqBy from \"lodash/uniqBy\";\r\n\r\nimport * as cartAction from \"../redux/actions/cart\";\r\nimport HeaderMenu from \"../components/Menu\";\r\n\r\nconst mapStateToProps = ({ cart }) => ({\r\n    totalPrice: cart.items.reduce((total, goods) => total + goods.price, 0),\r\n    counter: cart.items.length,\r\n    items: uniqBy(cart.items, obj => obj.id),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartAction, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderMenu);\r\n","export const setFilter = filter => ({\r\n    type: \"SET_FILTER\",\r\n    payload: filter,\r\n});\r\n\r\nexport const setSearchQuery = value => ({\r\n    type: \"SET_SEARCH_QUERY\",\r\n    payload: value,\r\n});\r\n","import React from \"react\";\r\nimport { Input, Menu } from \"semantic-ui-react\";\r\n\r\nconst Filter = ({ filterBy, setFilter, searchQuery, setSearchQuery }) => (\r\n    <Menu secondary stackable>\r\n        <Menu.Item\r\n            active={filterBy === \"all\"}\r\n            onClick={setFilter.bind(this, \"all\")}>\r\n            Все книги\r\n        </Menu.Item>\r\n        <Menu.Item\r\n            active={filterBy === \"popular\"}\r\n            onClick={setFilter.bind(this, \"popular\")}>\r\n            Популярные\r\n        </Menu.Item>\r\n        <Menu.Item\r\n            active={filterBy === \"author\"}\r\n            onClick={setFilter.bind(this, \"author\")}>\r\n            По автору\r\n        </Menu.Item>\r\n        <Menu.Item\r\n            active={filterBy === \"price_down\"}\r\n            onClick={setFilter.bind(this, \"price_down\")}>\r\n            По убыванию цены\r\n        </Menu.Item>\r\n        <Menu.Item\r\n            active={filterBy === \"price_up\"}\r\n            onClick={setFilter.bind(this, \"price_up\")}>\r\n            По возрастанию цены\r\n        </Menu.Item>\r\n        <Menu.Menu position=\"right\">\r\n            <Menu.Item>\r\n                <Input \r\n                    icon=\"search\" \r\n                    onChange={event => setSearchQuery(event.target.value)}\r\n                    value={searchQuery} \r\n                    placeholder=\"Поиск по книгам...\" />\r\n            </Menu.Item>\r\n        </Menu.Menu>\r\n    </Menu>\r\n);\r\n\r\nexport default Filter;\r\n","import { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport * as filterAction from \"../redux/actions/filter\";\r\nimport Filter from \"../components/Filter\";\r\n\r\nconst mapStateToProps = ({ filter }) => ({\r\n    filterBy: filter.filterBy,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(filterAction, dispatch)\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","import React from \"react\";\r\nimport { Card, Icon, Image, Button } from \"semantic-ui-react\";\r\n\r\nconst GoodsCard = (item) => {\r\n    const { title, authorName, author, imageUrl, price, rating, addGoodsToCart, addedCount } = item;\r\n    return (\r\n        <Card>\r\n            <Image src={imageUrl} wrapped ui={false} />\r\n            <Card.Content>\r\n                <Card.Header>{title}</Card.Header>\r\n                <Card.Meta>\r\n                    <span className='date'>{authorName}&nbsp;{author}</span>\r\n                </Card.Meta>\r\n                <Card.Description>\r\n                    <span>&#9733; </span>{rating}\r\n                </Card.Description>\r\n            </Card.Content>\r\n            <Card.Content extra>\r\n                {price}<span> руб.</span>\r\n            </Card.Content>\r\n            <Button onClick={addGoodsToCart.bind(this, item)} color=\"green\">\r\n                Добавить в корзину {addedCount > 0 && `(${addedCount})`}\r\n            </Button>\r\n        </Card>\r\n    )\r\n};\r\n\r\nexport default GoodsCard;\r\n","import { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport * as cartAction from \"../redux/actions/cart\";\r\nimport GoodsCard from \"../components/Card\";\r\n\r\n\r\nconst mapStateToProps = ({ cart }, { id }) => ({\r\n    addedCount: cart.items.reduce(\r\n        (count, item) => count + (item.id === id ? 1 : 0),\r\n        0,\r\n    ),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartAction, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GoodsCard);\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Container, Card } from \"semantic-ui-react\";\r\n\r\nimport HeaderMenu from \"../containers/Menu-container\";\r\nimport Filter from \"../containers/Filter-container\";\r\nimport GoodsCard from \"../containers/Card-container\";\r\n\r\nclass App extends React.Component {\r\n    UNSAFE_componentWillMount() {\r\n        const { setGoods } = this.props;\r\n        axios.get(\"https://react-bookshop-a7f59-default-rtdb.firebaseio.com/books.json\").then(({ data }) => {\r\n            setGoods(data);\r\n        });        \r\n    }\r\n\r\n    render() {\r\n        const { goods, isLoading } = this.props;\r\n\r\n        return (\r\n            <Container>\r\n                <HeaderMenu />\r\n                <Filter />\r\n                <Card.Group itemsPerRow={4} doubling >\r\n                    {!isLoading \r\n                        ? \"Загрузка данных с сервера...\" \r\n                        : goods.map((item) => (<GoodsCard key={item.id} {...item} />))\r\n                    }\r\n                </Card.Group>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport orderBy from \"lodash/orderBy\";\r\n\r\nimport * as goodsAction from \"../redux/actions/goods\";\r\nimport App from \"../components/App\";\r\n\r\nconst sortBy = (goods, filterBy) => {\r\n    switch (filterBy) {\r\n        case \"popular\":\r\n            return orderBy(goods, \"rating\", \"desc\");\r\n        case \"author\":\r\n            return orderBy(goods, \"author\", \"asc\");\r\n        case \"price_down\":\r\n            return orderBy(goods, \"price\", \"desc\");\r\n        case \"price_up\":\r\n            return orderBy(goods, \"price\", \"asc\");\r\n        case \"all\":\r\n        default:\r\n            return goods;\r\n    }\r\n};\r\n\r\nconst filterGoods = (goods, searchQuery) =>\r\n    goods.filter(\r\n        obj => \r\n            obj.title.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0 ||\r\n            obj.author.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0,\r\n    ); \r\n\r\nconst findedGoods = (goods, filterBy, searchQuery) => {\r\n    return sortBy(filterGoods(goods, searchQuery), filterBy);\r\n};\r\n\r\nconst mapStateToProps = ({ goods, filter }) => ({\r\n    goods:\r\n        goods.items && \r\n        findedGoods(goods.items, filter.filterBy, filter.searchQuery),\r\n    isLoading: goods.isLoading\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(goodsAction, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport 'semantic-ui-css/semantic.min.css'\n\nimport \"./index.css\";\nimport createStore from \"./redux/store\";\nimport App from \"./containers/App-container\";\n\nReactDOM.render(\n    <Provider store={createStore()}>\n        <App />\n    </Provider>, document.getElementById(\"root\")\n);\n"],"sourceRoot":""}